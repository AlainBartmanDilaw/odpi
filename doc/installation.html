<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Installation &#8212; ODPI-C v2.0.0-beta.2</title>
    
    <link rel="stylesheet" href="_static/theme.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="top" title="ODPI-C v2.0.0-beta.2" href="index.html" />
    <link rel="next" title="Release notes" href="releasenotes.html" />
    <link rel="prev" title="dpiReferenceBuffer" href="private_unions/dpiReferenceBuffer.html" /> 
  </head>
  <body role="document">
<div class="header">
<a href="https://oracle.github.io/odpi/doc">Doc Home</a>
</div>


    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
             <div class="section" id="installation">
<span id="id1"></span><h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>Download source from <a class="reference external" href="https://github.com/oracle/odpi">GitHub</a>.</p>
<p>A sample Makefile is provided if you wish to build ODPI-C as a shared library.
Otherwise, include the ODPI-C source code in your project. On Windows, Visual
Studio 2008 or higher is required. On macOS, Xcode 6 or higher is required. On
Linux, GCC 4.4 or higher is required.</p>
<p>ODPI-C requires Oracle Client libraries to be installed.  By far the simplest
Oracle Client that can be installed is the free <a class="reference external" href="http://www.oracle.com/technetwork/database/features/instant-client/index.html">Oracle Instant Client</a>.
Only the &quot;Basic&quot; or &quot;Basic Light&quot; package is required. Oracle Client libraries
are also available in any Oracle Database installation or full Oracle Client
installation.</p>
<p>ODPI-C uses the shared library loading mechanism available on each supported
platform to load the Oracle Client library at runtime. This allows code using
ODPI-C to be built only once, and then run using Oracle Client 11.2, 12.1 or
12.2 libraries.  If an Oracle client cannot be found at runtime, the error
&quot;DPI-1047: Oracle Client library cannot be loaded&quot; is raised. The following
sections explain how to ensure the Oracle Client is installed and configured
correctly on the various platforms so that ODPI-C is able to find it.</p>
</div>
<div class="section" id="oracle-client-and-database-versions">
<h2>Oracle Client and Database Versions<a class="headerlink" href="#oracle-client-and-database-versions" title="Permalink to this headline">¶</a></h2>
<p>ODPI-C can use Oracle Client 11.2, 12.1 or 12.2 libraries.</p>
<p>Oracle Client libraries allow connection to older and newer databases.
For example the 12.2 libraries can connect to Oracle Database 11.2,
12.1 and 12.2.</p>
<p>For additional information on which Oracle Database releases are supported
by which Oracle client versions, please see <a class="reference external" href="https://support.oracle.com/epmos/faces/DocumentDisplay?id=207303.1">DocID 207303.1</a>.</p>
<p>Since ODPI-C can use any Oracle Client version from 11.2 and higher, attempts
to use features that are not supported by that particular version will result
in a number of possible errors:</p>
<blockquote>
<div><ul class="simple">
<li>when attempting to access attributes that are not supported by the
current Oracle Client library you will get the error ORA-24315: illegal
attribute type</li>
<li>when attempting to use implicit results with an 11g client against a 12c
database you will get the error ORA-29481: Implicit results cannot be
returned to client</li>
<li>when attempting to get array DML row counts with an 11g client you will
get the error DPI-1013: not supported</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="linux">
<h2>Linux<a class="headerlink" href="#linux" title="Permalink to this headline">¶</a></h2>
<p>On Linux, ODPI-C first searches for a library called &quot;libclntsh.so&quot; using the
<a class="reference external" href="http://man7.org/linux/man-pages/man8/ld.so.8.html">standard library search order</a>. If this is not found,
it will then search for &quot;libclntsh.so.12.1&quot; and then for &quot;libclntsh.so.11.1&quot;
before returning an error.</p>
<div class="section" id="instant-client-rpm">
<h3>Instant Client RPM<a class="headerlink" href="#instant-client-rpm" title="Permalink to this headline">¶</a></h3>
<p>To install ODPI-C using Instant Client RPMs:</p>
<ol class="arabic">
<li><p class="first">Download the &quot;Basic&quot; or &quot;Basic Light&quot; RPM from here (<a class="reference external" href="http://www.oracle.com/technetwork/topics/linuxx86-64soft-092277.html">64-bit</a>
or <a class="reference external" href="http://www.oracle.com/technetwork/topics/linuxsoft-082809.html">32-bit</a>).</p>
</li>
<li><p class="first">Install the downloaded RPM with sudo or as the root user. For example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">yum</span> <span class="n">install</span> <span class="n">oracle</span><span class="o">-</span><span class="n">instantclient12</span><span class="o">.</span><span class="mi">2</span><span class="o">-</span><span class="n">basic</span><span class="o">-</span><span class="mf">12.2</span><span class="o">.</span><span class="mf">0.1</span><span class="o">.</span><span class="mi">0</span><span class="o">-</span><span class="mf">1.</span><span class="n">x86_64</span><span class="o">.</span><span class="n">rpm</span>
</pre></div>
</div>
</li>
<li><p class="first">Set the environment variable <code class="docutils literal"><span class="pre">LD_LIBRARY_PATH</span></code> to the appropriate
directory for the Instant Client version. For example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>export LD_LIBRARY_PATH=/usr/lib/oracle/12.2/client64/lib:$LD_LIBRARY_PATH
</pre></div>
</div>
<p>Alternatively, if there is no other Oracle software on the machine that will
be impacted, permanently add Instant Client to the runtime link path. For
example, with sudo or as the root user:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">sh</span> <span class="o">-</span><span class="n">c</span> <span class="s2">&quot;echo /usr/lib/oracle/12.2/client64/lib &gt; /etc/ld.so.conf.d/oracle-instantclient.conf&quot;</span>
<span class="n">sudo</span> <span class="n">ldconfig</span>
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="instant-client-zip">
<h3>Instant Client Zip<a class="headerlink" href="#instant-client-zip" title="Permalink to this headline">¶</a></h3>
<p>To install ODPI-C using Instant Client zip files:</p>
<ol class="arabic">
<li><p class="first">Download the &quot;Basic&quot; or &quot;Basic Light&quot; zip file from here (<a class="reference external" href="http://www.oracle.com/technetwork/topics/linuxx86-64soft-092277.html">64-bit</a>
or <a class="reference external" href="http://www.oracle.com/technetwork/topics/linuxsoft-082809.html">32-bit</a>).</p>
</li>
<li><p class="first">Unzip the package into a single directory that is accessible to your
application. For example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">mkdir</span> <span class="o">-</span><span class="n">p</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">oracle</span>
<span class="n">cd</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">oracle</span>
<span class="n">unzip</span> <span class="n">instantclient</span><span class="o">-</span><span class="n">basic</span><span class="o">-</span><span class="n">linux</span><span class="o">.</span><span class="n">x64</span><span class="o">-</span><span class="mf">12.2</span><span class="o">.</span><span class="mf">0.1</span><span class="o">.</span><span class="mf">0.</span><span class="n">zip</span>
</pre></div>
</div>
</li>
<li><p class="first">Install the <code class="docutils literal"><span class="pre">libaio</span></code> package with sudo or as the root user. For example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">yum</span> <span class="n">install</span> <span class="n">libaio</span>
</pre></div>
</div>
<p>On some Linux distributions this package is called <code class="docutils literal"><span class="pre">libaio1</span></code> instead.</p>
</li>
<li><p class="first">Set the environment variable <code class="docutils literal"><span class="pre">LD_LIBRARY_PATH</span></code> to the appropriate
directory for the Instant Client version. For example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>export LD_LIBRARY_PATH=/opt/oracle/instantclient_12_2:$LD_LIBRARY_PATH
</pre></div>
</div>
<p>Alternatively, if there is no other Oracle software on the machine that will
be impacted, permanently add Instant Client to the runtime link path. For
example, with sudo or as the root user:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">sh</span> <span class="o">-</span><span class="n">c</span> <span class="s2">&quot;echo /opt/oracle/instantclient_12_2 &gt; /etc/ld.so.conf.d/oracle-instantclient.conf&quot;</span>
<span class="n">sudo</span> <span class="n">ldconfig</span>
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="local-database">
<h3>Local Database<a class="headerlink" href="#local-database" title="Permalink to this headline">¶</a></h3>
<p>To install ODPI-C using a local Oracle Database installation:</p>
<ol class="arabic">
<li><p class="first">Set required Oracle environment variables by running the Oracle environment
script. For example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">source</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">oraenv</span>
</pre></div>
</div>
<p>For Oracle XE, run:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">source</span> <span class="o">/</span><span class="n">u01</span><span class="o">/</span><span class="n">app</span><span class="o">/</span><span class="n">oracle</span><span class="o">/</span><span class="n">product</span><span class="o">/</span><span class="mf">11.2</span><span class="o">.</span><span class="mi">0</span><span class="o">/</span><span class="n">xe</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">oracle_env</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
</li>
<li><p class="first">Set the environment variable <code class="docutils literal"><span class="pre">LD_LIBRARY_PATH</span></code> if it has not already been
set. For example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>export LD_LIBRARY_PATH=$ORACLE_HOME/lib:$LD_LIBRARY_PATH
</pre></div>
</div>
</li>
</ol>
</div>
</div>
<div class="section" id="windows">
<h2>Windows<a class="headerlink" href="#windows" title="Permalink to this headline">¶</a></h2>
<p>On Windows, ODPI-C searches for a library called &quot;OCI.dll&quot; using the
<a class="reference external" href="https://msdn.microsoft.com/en-us/library/windows/desktop/ms682586(v=vs.85).aspx">standard library search order</a>.</p>
<p>Oracle Client libraries require the presence of the correct Visual Studio
redistributable.</p>
<blockquote>
<div><ul class="simple">
<li>11.2 : <a class="reference external" href="https://www.microsoft.com/en-us/download/details.aspx?id=18471">VS 2005 64-bit</a> or <a class="reference external" href="https://www.microsoft.com/en-ca/download/details.aspx?id=3387">VS 2005 32-bit</a></li>
<li>12.1 : <a class="reference external" href="https://support.microsoft.com/en-us/kb/2977003#bookmark-vs2010">VS 2010</a></li>
<li>12.2 : <a class="reference external" href="https://support.microsoft.com/en-us/kb/2977003#bookmark-vs2013">VS 2013</a></li>
</ul>
</div></blockquote>
<div class="section" id="id2">
<h3>Instant Client Zip<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>To install ODPI-C using Instant Client zip files:</p>
<ol class="arabic simple">
<li>Download the &quot;Basic&quot; or &quot;Basic Light&quot; zip file from here (<a class="reference external" href="http://www.oracle.com/technetwork/topics/winx64soft-089540.html">64-bit</a> or
<a class="reference external" href="http://www.oracle.com/technetwork/topics/winsoft-085727.html">32-bit</a>).</li>
<li>Unzip the package into a single directory that is accessible to your
application.</li>
<li>Set the environment variable <code class="docutils literal"><span class="pre">PATH</span></code> to include the path that you
created in step 2. For example, on Windows 7, update <code class="docutils literal"><span class="pre">PATH</span></code> in
Control Panel -&gt; System -&gt; Advanced System Settings -&gt; Advanced -&gt;
Environment Variables -&gt; System Variables -&gt; PATH.</li>
</ol>
</div>
<div class="section" id="id3">
<h3>Local Database<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<p>To install ODPI-C using a local Oracle Database installation:</p>
<ol class="arabic simple">
<li>Set the environment variable <code class="docutils literal"><span class="pre">PATH</span></code> to include the path that contains
OCI.dll, if it is not already set. For example, on Windows 7, update
<code class="docutils literal"><span class="pre">PATH</span></code> in Control Panel -&gt; System -&gt; Advanced System Settings -&gt;
Advanced -&gt; Environment Variables -&gt; System Variables -&gt; PATH.</li>
</ol>
</div>
</div>
<div class="section" id="macos">
<h2>macOS<a class="headerlink" href="#macos" title="Permalink to this headline">¶</a></h2>
<p>On macOS, ODPI-C first searches for a library called &quot;libclntsh.dylib&quot; using
the <a class="reference external" href="https://developer.apple.com/library/content/documentation/DeveloperTools/Conceptual/DynamicLibraries/100-Articles/DynamicLibraryUsageGuidelines.html">standard library search order</a>. If
this is not found, it will then search for &quot;libclntsh.dylib.12.1&quot; and then for
&quot;libclntsh.dylib.11.1&quot; before returning an error.</p>
<div class="section" id="id4">
<h3>Instant Client Zip<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<p>To install ODPI-C using Instant Client zip files:</p>
<p>1. Download the &quot;Basic&quot; or &quot;Basic Light&quot; zip file from <a class="reference external" href="http://www.oracle.com/technetwork/topics/intel-macsoft-096467.html">here</a>.</p>
<ol class="arabic" start="2">
<li><p class="first">Unzip the package into a single directory that is accessible to your
application. For example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">mkdir</span> <span class="o">-</span><span class="n">p</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">oracle</span>
<span class="n">unzip</span> <span class="n">instantclient</span><span class="o">-</span><span class="n">basic</span><span class="o">-</span><span class="n">macos</span><span class="o">.</span><span class="n">x64</span><span class="o">-</span><span class="mf">12.1</span><span class="o">.</span><span class="mf">0.2</span><span class="o">.</span><span class="mf">0.</span><span class="n">zip</span>
</pre></div>
</div>
</li>
</ol>
<ol class="arabic" start="4">
<li><p class="first">Add links to $HOME/lib to enable applications to find the library. For
example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>cd $HOME/lib
ln -s /opt/oracle/instantclient_12_1/libclntsh.dylib.12.1
</pre></div>
</div>
<p>Alternatively, copy the required OCI libraries. For example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">mkdir</span> <span class="o">~/</span><span class="n">lib</span>
<span class="n">cp</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">oracle</span><span class="o">/</span><span class="n">instantclient_12_1</span><span class="o">/</span><span class="p">{</span><span class="n">libclntsh</span><span class="o">.</span><span class="n">dylib</span><span class="o">.</span><span class="mf">12.1</span><span class="p">,</span><span class="n">libclntshcore</span><span class="o">.</span><span class="n">dylib</span><span class="o">.</span><span class="mf">12.1</span><span class="p">,</span><span class="n">libons</span><span class="o">.</span><span class="n">dylib</span><span class="p">,</span><span class="n">libnnz12</span><span class="o">.</span><span class="n">dylib</span><span class="p">,</span><span class="n">libociei</span><span class="o">.</span><span class="n">dylib</span><span class="p">}</span> <span class="o">~/</span><span class="n">lib</span><span class="o">/</span>
</pre></div>
</div>
<p>For Instant Client 11.2, the OCI libraries must be copied. For example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">mkdir</span> <span class="o">~/</span><span class="n">lib</span>
<span class="n">cp</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">oracle</span><span class="o">/</span><span class="n">instantclient_11_2</span><span class="o">/</span><span class="p">{</span><span class="n">libclntsh</span><span class="o">.</span><span class="n">dylib</span><span class="o">.</span><span class="mf">11.1</span><span class="p">,</span><span class="n">libnnz11</span><span class="o">.</span><span class="n">dylib</span><span class="p">,</span><span class="n">libociei</span><span class="o">.</span><span class="n">dylib</span><span class="p">}</span> <span class="o">~/</span><span class="n">lib</span><span class="o">/</span>
</pre></div>
</div>
</li>
</ol>
</div>
</div>
<div class="section" id="other-platforms">
<h2>Other Platforms<a class="headerlink" href="#other-platforms" title="Permalink to this headline">¶</a></h2>
<p>To install ODPI-C on other platforms (such as Solaris and AIX), follow the same
general directions as for Linux Instant Client zip files or Local Database.</p>
</div>
</div>
 
          </div>
      </div>

      <div class="clearer"></div>
    </div>
    <div class="footer" role="contentinfo">
      &#169; Copyright 2016, 2017 Oracle and/or its affiliates.  All rights reserved.
    </div>
  </body>
</html>
